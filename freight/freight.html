<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8' />
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119672452-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-119672452-1');
  </script>

  <!-- Favicons -->
  <link rel="icon" type="image/x-icon" href="./assets/favicons/favicon.ico">
  <!-- end of Favicons -->

  <!-- styles -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons">
  <link rel="stylesheet" href="./assets/fonts/font.css">
  <link rel="stylesheet" href="./assets/style.css">

  <title>Sep23 DAE demographics data shows continued return to pre-pandemic trends</title>

  <meta name="description" content="We delve into the latest DAE population results, looking into how our cities are recovering four years after the pandemic." />

  <!-- Social media meta -->
  <meta property="og:site_name" content="Transurban" />
  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary_large_image">

  <meta property="og:title" content="NSW Freight Truck Trips Modelling">
  <meta property="og:description" content="We delve into the Freight Truck Trips from Origin to Destination at SA2 level for Greater Sydney."> 
  <meta property="og:url" content="https://trafficteam.substack.com/p/our-latest-demographics-data-shows">
  
   <!-- scripts -->
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v3.1.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v3.1.0/mapbox-gl.css' rel='stylesheet' />
  <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
  <script src="https://unpkg.com/scrollama"></script>
</head>

<body>

  <header class="hidden-sm-and-down">
    <nav class="v-toolbar v-toolbar--fixed"
      style="margin-top: 0px; padding-right: 0px; padding-left: 0px; transform: translateY(0px);">
      <div class="v-toolbar__content" style="height: 64px;">
        <a href="https://www.transurban.com/">
          <img src="./assets/img/logo.png" alt="Transurban Logo" width="180px">
        </a>

        <div class="spacer"></div>
       
      </div>
    </nav>
  </header>

  <header class="hidden-md-and-up">
    <aside id="v-drawer"
      class="v-navigation-drawer v-navigation-drawer--fixed v-navigation-drawer--open v-navigation-drawer--temporary"
      style="height: 100%;margin-top: 0px;max-height: calc(100% - 0px);transform: translateX(-300px);width: 300px;">
      <div class="v-list" style="color: #000; padding-top: 48px;">          
      </div>
    </aside>

    <nav class="v-toolbar v-toolbar--fixed"
      style="margin-top: 0px; padding-right: 0px; padding-left: 0px; transform: translateY(0px);">
      <div class="v-toolbar__content" style="height: 64px;">
        <a href="/">
          <img src="./assets/img/logo.png" alt="Transurban Logo" width="180px">
        </a>
        <div class="spacer"></div>        
      </div>
    </nav>
  </header>

  <main class="main-content">
    <section class="hero">
      <div class="video-wrapper hidden-xs-only">
        <video preload="none" playsinline autoplay muted loop id="pop-video">
          <source src="assets/video/truck.mp4" type="video/mp4">
        </video>
      </div>

      <div class="video-wrapper hidden-sm-and-up">
        <video preload="none" playsinline autoplay muted loop id="pop-video">
          <source src="assets/video/truck.mp4" type="video/mp4" >
        </video>
      </div>

      <div class="hero__inner centered">
        <p>
          Economics & Spatial Analytics / Transport Analytics Team
        </p>
        <h2>
          Insights into Greater Sydney Freight Modeling: Truck Trips from 2021 to 2031
        </h2>
        <p> by Jack Jin<br>
          <b>Published</b> 1 May 2024
        </p>
      </div>
    </section>

    <div id="map"></div>
    <div id="story"></div>

    <footer>
      <div class="story-footer centered">
        <div class="story-footer__credits">
          <ul>		  
			<li>
              <b>Design by </b> Jack Jin
            </li>		           
            
          </ul>
        </div>

        <div class="story-footer__partners">
          <p>
            <em>This story is based on the NSW Freight Modelling Outcomes presented by <b>Luca Rosati</b></em>
          </p>
			
		<div class="partner-logos" >
         <img src="./assets/img/logo.png" alt="open trasurban logo" style="height: 50px;">
          </div>
		  
          <p>
           It is worth noting that:
		<ol>
			<li><b>Truck Counts at SA2 Level:</b> The modeled truck counts are detailed at the SA2 level, tracking from trip origins to destinations.</li>
			<li><b>Return Trips Included:</b> The aggregation of trucks by origin closely matches those by destination, indicating that return trips are included in the data.</li>
			<li><b>Model Spanning 2021 to 2031:</b> The model covers the period from 2021 to 2031, focusing on the spatial distribution and growth of truck trips. </li>			
		</ol>

		   These changes signify a comprehensive update, enhancing the accuracy and relevance of the commission's forecasts.

          </p>
         
        </div>

        <div class="v-divider" style="margin-top: 16px"></div>

        <div class="story-footer__meta"> 

          <div class="v-divider" style="margin-bottom: 24px;"></div>

          <div class="topics">
            <h4>Topics:</h4>

            <ul>
              <li>freight, </li>
              <li>truck,</li>
              <li>port,</li>
              <li>airport,</li>
              <li>warehouse,</li> 
			  <li>logistics</li>    
            </ul>
          </div>

          <div class="v-divider" style="margin-bottom: 24px;"></div>

          <div>
            <i>
              Stay tuned for more insights. If there’s anything else you’re wanting to know, or if you’re wanting us to write about a certain topic, please reach out!, please drop us an e-mail at
              <a href="mailto:jjin@transurban.com"
                style="color: rgba(0, 0, 0, 0.8); text-decoration: underline;">jjin@transurban</a>
            </i>
          </div>
        </div>
      </div>
    </footer>
  </main>  

  <script src="./config.js"></script>
  <script>
    // control mobile drawer
    var showDrawer = false;
    var toggleDrawer = document.getElementById('toggle-drawer');
    var drawer = document.getElementById('v-drawer')

    toggleDrawer.addEventListener('click', function (event) {
      event.preventDefault();

      if (showDrawer === false) {
        // show drawer
        drawer.style.transform = 'translateX(0px)';
        showDrawer = true;
      } else {
        // hide drawer
        drawer.style.transform = 'translateX(-300px)';
        showDrawer = false;
      }

    }, false);

    // accordion component
    var accordion = document.querySelector('.accordion');
    var toggleAccordion = document.getElementById('toggle-accordion');
    var accordionContent = document.getElementById('accordion-content');
    var accordionContentInner = accordionContent.querySelector('.accordion-content__wrap');

    var accordionContentHeight = accordionContent.getBoundingClientRect().height;
    var showAccordion = false;

    accordionContent.style.maxHeight = 0;

    toggleAccordion.addEventListener('click', function (event) {
      accordion.classList.toggle('accordion--active');
      showAccordion = !showAccordion;

      accordionContent.style.maxHeight = showAccordion ? accordionContentHeight + 200 + 'px' : 0;
    })

  </script>
  <script>
    var layerTypes = {
      'fill': ['fill-opacity'],
      'line': ['line-opacity'],
      'circle': ['circle-opacity', 'circle-stroke-opacity'],
      'symbol': ['icon-opacity', 'text-opacity'],
      'raster': ['raster-opacity'],
      'fill-extrusion': ['fill-extrusion-opacity']
    }

    var alignments = {
      'left': 'lefty',
      'center': 'centered',
      'right': 'righty'
    }

    function getLayerPaintType(layer) {
      var layerType = map.getLayer(layer).type;
      return layerTypes[layerType];
    }

    function setLayerOpacity(layer) {
      var paintProps = getLayerPaintType(layer.layer);
      paintProps.forEach(function (prop) {
        map.setPaintProperty(layer.layer, prop, layer.opacity);
      });
    }

    var story = document.getElementById('story');
    var features = document.createElement('div');
    features.classList.add(alignments[config.alignment]);
    features.setAttribute('id', 'features');

    config.chapters.forEach((record, idx) => {
      var container = document.createElement('div');
      var chapter = document.createElement('article');

      if (record.title) {
        var title = document.createElement('h3');
        title.innerText = record.title;
        chapter.appendChild(title);
      }

      if (record.image) {
        var image = new Image();
        image.src = record.image;
        chapter.appendChild(image);
      }

      if (record.description) {
        var story = document.createElement('div');
        story.innerHTML = record.description;
        chapter.appendChild(story);
      }

      container.setAttribute('id', record.id);
      container.classList.add('step');
      if (idx === 0) {
        container.classList.add('active');
      }

      chapter.classList.add(config.theme);
      container.appendChild(chapter);
      features.appendChild(container);
    });

    story.appendChild(features);

    // var footer = document.createElement('div');

    // if (config.footer) {
    //   var footerText = document.createElement('p');
    //   footerText.innerHTML = config.footer;
    //   footer.appendChild(footerText);
    // }

    // if (footer.innerText.length > 0) {
    //   footer.classList.add(config.theme);
    //   footer.setAttribute('id', 'footer');
    //   story.appendChild(footer);
    // }

    mapboxgl.accessToken = config.accessToken;

    const transformRequest = (url) => {
      const hasQuery = url.indexOf("?") !== -1;
      const suffix = hasQuery ? "&pluginName=journalismScrollytelling" : "?pluginName=journalismScrollytelling";
      return {
        url: url + suffix
      }
    }

    var map = new mapboxgl.Map({
      container: 'map',
      style: config.style,
      center: config.chapters[0].location.center,
      zoom: config.chapters[0].location.zoom,
      bearing: config.chapters[0].location.bearing,
      pitch: config.chapters[0].location.pitch,
      scrollZoom: false,
      transformRequest: transformRequest,
      interactive: false,
      minZoom: 2,
    });

    var marker = new mapboxgl.Marker();
    if (config.showMarkers) {
      marker.setLngLat(config.chapters[0].location.center).addTo(map);
    }

    // instantiate the scrollama
    var scroller = scrollama();

    map.on("load", function () {
      // setup the instance, pass callback functions
      scroller
        .setup({
          step: '.step',
          offset: 0.5,
          progress: true
        })
        .onStepEnter(response => {
	
          var chapter = config.chapters.find(chap => chap.id === response.element.id);	  		  

          // if mobile, adjust map zoom
          chapter.location.zoom = window.innerWidth < 960 ? chapter.location.zoom - 1.5 : chapter.location.zoom;

          response.element.classList.add('active');
          map.flyTo(chapter.location);
          if (config.showMarkers) {
            marker.setLngLat(chapter.location.center);
          }
          if (chapter.onChapterEnter.length > 0) {
            chapter.onChapterEnter.forEach(setLayerOpacity);
          }
		   
		 
		   
		  if (chapter.rotateAnimation) {
						map.once('moveend', function() {
								const rotateNumber = map.getBearing();
								map.rotateTo(rotateNumber + 90, {
										duration: 24000, easing: function (t) {
												return t;
										}
								});
						});
				}
        })
        .onStepExit(response => {
          var chapter = config.chapters.find(chap => chap.id === response.element.id);
          response.element.classList.remove('active');
          if (chapter.onChapterExit.length > 0) {
            chapter.onChapterExit.forEach(setLayerOpacity);
          }	  	  
        });				
		
    });      	
		
	// setup resize event
    window.addEventListener('resize', scroller.resize);

  </script>

</body>

</html>